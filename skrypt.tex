% jedno zdanie w jednej linii
% myślniki w ekście piszemy jako "--" a minus jako "-"
% zamiast "..." w wyraeniach matematycznych używamy "\ldots"
% zamiast ":" w wyrażeniach matematycznych używamy "\colon"
% wypunktowania lub wyliczenia robimy przy pomocy otoczeń itemize lub enumerate
% w zasadzie nie używamy "\\"

\documentclass{article}

\usepackage[MeX,plmath]{polski}
\usepackage[utf8]{inputenc}
\usepackage{mathtools} % nowy, ulepszony amsmath
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{amssymb} % dodatkowe symbole
\usepackage{latexsym} % dodatkowe symbole
\usepackage{textcomp} % dodatkowe symbole
\usepackage{hyperref} % klikalne linki -- użyj \url{...}
\usepackage{array} % do skomplikowanych tabel
\usepackage{todonotes} % do notatek, nt. co jest do zrobienia; użyj \todo{...}
\usepackage{color} % do kolorowego tekstu
\usepackage{tikz} % do tworzenia grafiki
\usepackage{xfrac} % do pisania struktur typu A/B, A/~, etc.
\usetikzlibrary{arrows, automata, positioning}

\title{\textbf{Logika matematyczna II} \\ \Large{$\sim$ notatki z wykładu $\sim$}}

\date{\small{Wersja z dnia: \today}}
\begin{document}

\maketitle

% Oznaczenia na zbiory liczb naturalnych, całkowitych, etc.
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\B}{\mathbb{B}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\D}{\mathbb{D}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\K}{\mathbb{K}}

% Oznaczenia na ...
\newcommand{\X}{\mathcal{X}}
\newcommand{\Y}{\mathcal{Y}}

% Oznaczenia na funkcje
\newcommand{\id}{\text{id}}

% Twierdzenia, wnioski, etc.
\newtheorem{thm}{Thm}[section]
\theoremstyle{plain}
\newtheorem{tw}[thm]{Twierdzenie}
\newtheorem{stw}[thm]{Stwierdzenie}
\newtheorem{wn}[thm]{Wniosek}
\newtheorem{wnn}[thm]{Wnioski}
\newtheorem{lem}[thm]{Lemat}
\newtheorem{teza}[thm]{Teza}
\newtheorem{fakt}[thm]{Fakt}
\newtheorem{uw}[thm]{Uwaga}
\newtheorem{obs}[thm]{Obserwacja}

% Definicje, oznaczenia, etc.
\theoremstyle{definition}
\newtheorem{df}[thm]{Definicja}
\newtheorem{oznn}[thm]{Oznaczenia}
\newtheorem{ozn}[thm]{Oznaczenie}

% Przykłady, uwagi, etc.
\theoremstyle{remark}
\newtheorem{prz}[thm]{Przykład}
\newtheorem{przyp}[thm]{Przypomnienie}
\newtheorem{zd}{Zadanie}

%\DeclareMathOperator{\Exists}{\exists}
%\DeclareMathOperator{\Forall}{\forall}

% Oznaczenia na różne teorie, ZFC, PA, etc.
% (Skróty te działają w otoczeniu matematycznym)
\newcommand{\PA}{\mathsf{P \mkern-1.9mu A}}
\newcommand{\ZFC}{\mathsf{Z \mkern-1.6mu F \mkern-1.5mu C}}
\newcommand{\DLO}{\mathsf{D \mkern-1.5mu L \mkern-1.8mu O}}
\newcommand{\ACF}{\mathsf{A \mkern-2.0mu C \mkern-1.1mu F}}
\newcommand{\RCF}{\mathsf{R \mkern-1.7mu C \mkern-1.4mu F}}

% Skróty popularnych wyrażeń.
\newcommand{\wtw}{wtedy i tylko wtedy, gdy }
\newcommand{\fae}{następujące warunki są równoważne: }
\newcommand{\Fae}{Następujące warunki są równoważne: }

% Inne
\newcommand{\Th}{\text{Th}}


\begin{abstract}
	Notatki do wykładu \textit{Logika matematyczna II} dra Leszka Kołodziejczyka, prowadzonego w semestrze letnim roku akademickiego 2016/17.
	Spisywane przez Jędrzeja Kołodziejskiego i Bartosza Piotrowskiego.
	Uwagi o błędach są mile widziane -- proszę pisać na \texttt{bartoszpiotrowski@post.pl}
\end{abstract}


\section*{Uwagi wstępne}
Teorie aksjomatyczne są dwojakiego rodzaju:
\begin{itemize}
	\item \textit{ładne} (pod takim, czy innym względem) -- da się zrozumieć zbiory w nich definiowalne, jak również struktury ich modeli; są rozstrzygalne.
		Przykładem tego typu teorii są gęste liniowe porządki bez końców ($\DLO$), czyli $\Th(\Q, \leq), \Th(\R, +, \cdot, \leq)$, etc.
		Tego typu \textit{ładne} teorie są przedmiotem zainteresowania teorii modeli.
	\item \textit{straszne} (tzw. \textit{smoki}) -- teorie te nie spełniają żadnych warunków \textit{ładności}.
		Przykłady: $\ZFC$, $\Th(\N, +, \cdot, \leq)$.
\end{itemize}
Pierwsza część niniejszego kursu będzie dotyczyła teorii \textit{ładnych}, druga zaś -- \textit{smoków}.

Polecane podręczniki do pierwszej części to:
\begin{itemize}
	\item David Marker, \textit{Model Theory: An Introduction}, Graduate Texts in Mathematics, Springer, 2002,
	\item Katrin Tent, Martin Ziegler, \textit{A Course in Model Theory}, Cambridge University Press, 2012.
\end{itemize}


\section{Eliminacja kwantyfikatorów}
\begin{df}
	Teoria $T$ ma \textit{eliminację kwantyfikatorów} (q.e.) \wtw dla dowolnej formuły $\psi(\bar{x})$ istnieje taka formuła bezkwantyfikatorowa $\phi(\bar{x})$, że $T \models \forall {\bar{x}} (\psi(\bar{x}) \iff \phi(\bar{x}))$.
\end{df}

\begin{uw}
	Jeśli w sygnaturze teorii $T$ nie występują żadne stałe, wówczas teoria ta nie ma zdań bezkwantyfikatorowych.
	W takiej sytuacji można:
	\begin{itemize}
		\item albo dopuścić sytuację, że dla zdania $\phi$ bierzemy formułę bezkwantyfikatorową $\psi$ taką, że $T \vdash \forall x (\phi \iff \psi(x))$,
		\item albo wprowadzić zmienne zdaniowe $\top$ i $\bot$ i żądać zupełności teorii $T$.
	\end{itemize}
\end{uw}

\begin{prz}
	W $\Th(\R, +, \cdot, \leq)$ formuła $\phi(y, z, w) \equiv y \neq 0 \wedge \exists x (yx^2 + 2x + w = 0)$ jest równoważna formule bezkwantyfikatorowej $y \neq 0 \wedge z^2 - 4yw \geq 0$.
\end{prz}

Z eliminacji kwantyfikatorów typowo wynikają następujące korzyści:
\begin{itemize}
	\item zrozumienie zbiorów definiowalnych w danej teorii (no bo więcej, niż trzy bloki kwantyfikatorów sprawiają niemożliwym zrozumienie definicji),
	\item uzyskanie zupełności teorii,
	\item uzyskanie rozstrzygalności teorii.
\end{itemize}

Ale z drugiej strony trzeba uważać, bo:

\begin{stw} Dla dowolnej niesprzecznej teorii $T$ istnieje jej niesprzeczne rozszerzenie $T^+ \supseteq T$ z eliminacją kwantyfikatorów.
\end{stw}
\begin{proof}
	Dla każdej formuły $\phi(\bar{x})$ dodajemy nowy symbol relacyjny $R_{\phi}(\bar{x})$.
	\[T^+ := T \cup \{\forall \bar{x} (\phi(\bar{x}) \iff R_{\phi}(\bar{x}))\}\].
\end{proof}
A nadawanie niezrozumiałym formułom nazw nie czyni ich zrozumiałymi.

\begin{tw}
	$\DLO$ (teoria gęstych liniowych porządków) posiada q.e.
\end{tw}
\begin{proof}
	Niech $\phi$ to formuła $\DLO$ w zmiennych $x_1, \ldots, x_n$.
	(Jak wiemy) $\DLO$ jest zupełna (bo ma tylko jeden, z dokładnością do izomorfizmu, przeliczalny model, tzn. jest $\omega$-kategoryczna, a mamy twierdzenie Löwenheima-Skolema).

	Zauważmy, że:
	\begin{itemize}
		\item jeśli $a_1, \ldots, a_n, b_1, \ldots b_n \in \Q$ są takie, że dla każdej formuły bezkwantyfikatorowej $\phi$ zachodzi $(\Q, \leq) \models \phi(\bar{a}) \iff \phi(\bar{b})$, to istnieje autoizomorfizm $h(\Q, \leq)$ taki, że $h(a_i) = b_i$ dla $i \in \{1, \ldots, n\}$, a zatem dla każdej formuły $\gamma(\bar{x})$ mamy $(\Q, \leq) \models \gamma(\bar{a}) \iff \gamma(\bar{b})$,
		\item z dokładnością do równoważności w $\DLO$ istnieje tylko skończenie wiele formuł bezkwantyfikatorowych w zmiennych $x_1, \ldots, x_n$ -- każda jest alternatywą koniunkcji takich, jak na przykład ta: $x_1 = x_2 \wedge x_1 \leq x_3 \wedge \neg x_3 \leq x_1$.
			Takie koniunkcje oznaczamy przez $\psi_1(\bar{x}), \psi_2(\bar{x}), \ldots$
			W takim razie
			\[(\Q, \leq) \models \forall \bar{x} (\phi(\bar{x}) \iff \bigwedge_{\mathclap{\substack{i \text{ takie, że istnieje } \bar{a} \in \Q^n \\ \text{ takie, że }(\Q, \leq) \models \phi(\bar{a}) \wedge \psi_i(\bar{a})}}} \psi_i(\bar{x}))\]
	\end{itemize}
	Zatem z zupełności
			\[\DLO \models \forall \bar{x} (\phi(\bar{x}) \iff \bigwedge_{\mathclap{\substack{i \text{ takie, że istnieje } \bar{a} \in \Q^n \\ \text{ takie, że }(\Q, \leq) \models \phi(\bar{a}) \wedge \psi_i(\bar{a})}}} \psi_i(\bar{x}))\]
\end{proof}

\begin{wn}
	$\DLO$ jest \em{$o$-minimalna}, tj. dla dowolnego $A \models \DLO$ i dowolnej formuły $\phi(x,\bar{a})$, gdzie $a \in A^n$ zbiór definiowalny $\{x \in A \colon  A \models \phi(x,\bar{a})\}$ jest skończoną sumą przedziałów (być może jednopunktowych).
\end{wn}


\begin{tw}
Dla dowolnej teorii $T$, \fae
	\begin{enumerate}
		\item $T$ ma eliminację kwantyfikatorów,
		\item dla dowolnych dwóch struktur $\A, \B \models T$, dowolnego $\D$ takiego, że $\A \supseteq \D \subseteq \B$,  dowolnego $\bar{d} \in \D$, i dowolnej formuły bezkwantyfikatorowej $\psi(\bar{x}, y)$  zachodzi:
			\[\A \models \exists y \, \psi(\bar{d}, y) \iff \B \models \exists y \, \psi(\bar{d}, y)\]
	\end{enumerate}
\end{tw}
\begin{proof}
	($\Rightarrow$) Łatwe.

	($\Leftarrow$) \color{red} TODO
\end{proof}

\begin{df}
	\begin{itemize}
		Struktura $\A$ jest:
		\item \textit{minimalna}, jeśli każdy definiowalny podzbiór $A$ jest skończony lub koskończony,
		\item \textit{silnie minimalna}, jeśli każda struktura $\B \equiv \A$ jest minimalna.
	\end{itemize}

	Teoria $T$ jest \textit{silnie minimalna} jeśli każda struktura $\B \models T$ jest minimalna.
\end{df}

% tu można przepisac jeszcze te zadania

\begin{df}
	$T_{\forall} = \{\phi \text{ czysto uniwersalne takie, że } T \vdash
	\phi\}$
\end{df}

\begin{stw}
	Niech $T$ to teoria.
	Wówczas $\A \models T_{\forall}$ \wtw istnieje $\B \models T$ takie, że $\A \subseteq \B$.
\end{stw}
\begin{proof}
	($\Leftarrow$) Oczywiste.

		($\Rightarrow$) \color{red} TODO
\end{proof}

\begin{tw}
	\label{tw:qe}
	Niech $T$ będzie teorią taką, że:
	\begin{enumerate}
		\item dla dowolnych $\A, \B \models T$ takich, że $\A \subseteq \B$, dla dowolnego $\bar{a} \in \A$ i dowolnej formuły bezkwantyfikatorowej $\psi(\bar{x}, y)$, mamy:
			\[
				\B \models \exists y \, \psi(\bar{a}, y) \Rightarrow \A \models \exists y \, \psi(\bar{a}, y)
			\]
		\item dla każdej $\D \models T_{\forall}$ istnieje $\A \models T$ takie, że $\D \subseteq \A$ i każde zanurzenie $\D \hookrightarrow \B \models T$ rozszerza się do zanurzenia $\A \hookrightarrow \B$,
	\end{enumerate}
	wówczas $T$ ma eliminację kwantyfikatorów.
\end{tw}
\begin{proof}
	\color{red} TODO
\end{proof}


% WYKŁAD 2, data: 7 III 2017

\section{Ciała algebraicznie domknięte}

\begin{df}
	$\ACF$ to teoria w języku $\{+, \cdot, -, 0, 1\}$ (gdzie $-$ jest arności $1$) wyposażona w następujące aksjomaty:
	\begin{itemize}
		\item aksjomaty ciał,
		\item schemat aksjomatów: $\forall w_n, \ldots, w_0 (w_n \neq 0 \Rightarrow \exists y (w_n y^n + \cdots + w_1y + w_0 = 0))$, gdzie $n \in \N \setminus \{0\}$.
\end{df}


\begin{tw}
	$\ACF$ posiada eliminację kwantyfikatorów.
\end{tw}
\begin{proof}
Dowodzimy następujące dwa lematy i korzystamy z Twierdzenia \ref{tw:qe}.

\begin{lem}
	$\ACF_{\forall}$ to teoria dziedzin całkowitości (tj. pierścieni bez dzielników zera).
	Ponadto zachodzi ... %TODO
\end{lem}
\begin{proof}
	($\subseteq$) TODO

\begin{przyp}[z algebry]
	~\begin{itemize}
		\item Każde ciało $\mathbb{K}$ ma swoje algebraiczne domknięcie $\mathbb{K}^{\text{alg}}$ (tzn. takie ciało $\mathbb{L} \supseteq \mathbb{K}$, że $\mathbb{L} \models \ACF$ i rozszerzenie $\mathbb{L} \supseteq \mathbb{K}$ jest algebraiczne).
		\item Algebraiczne domknięcie $\mathbb{K}^{\text{alg}}$ jest jedyne z dokładnością do izomorfizmu nad $\mathbb{K}$ (tzn. jeśli $\mathbb{L}_1$ i $\mathbb{L}_2$ są algebraicznymi domknięciami $\mathbb{K}$, wówczas istnieje izomorfizm $h \colon \mathbb{L}_1 \rightarrow \mathbb{L}_2$ taki, że $h|\mathbb{K} = \id(\mathbb{K})$ )
	\end{itemize}
\end{przyp}


	($\supseteq$) TODO
\end{proof}

\begin{lem}
	Dla $\ACF$ zachodzi warunek (2) Twierdzenia \ref{tw:qe}.
\end{lem}
\begin{proof}
TODO
\end{proof}
Z powyższych dwóch lematów i twierdzenia \ref{tw:qe} wynika, że $\ACF$ posiada eliminację kwantyfikatorów.
\end{proof}

\begin{wnn}
	~\begin{itemize}
		\item $\ACF$ jest silnie minimalna, tj. w dowolnym $\mathbb{K} \models \ACF$ dowolny definiowalny podzbiór $\mathbb{K}$ jest skończony lub koskończony,
		\item jeśli $p$ jest liczbą pierwszą lub zerem, to teoria $\ACF_p := \ACF +  \{\text{char} = p\}$ jest zupełna,
		\item $\ACF$ jest rozstrzygalna.
	\end{itemize}
\end{wnn}

\begin{fakt}
	Dla każdej nieprzeliczalnej liczby porządkowej $\kappa$ teoria $\ACF_p$ jest $\kappa$-kategoryczna.
\end{fakt}
Ideą dowodu dla powyższego faktu jest to, że ciała algebraicznie domknięte tej samej charakterystyki i o tym samym stopniu przestępnym są izomorficzne.

\begin{tw}[Ax--Grothendick]
	Niech $\mathbb{K} \models \ACF$.
	Niech funkcja $f \colon K^n \rightarrow K^n$ będzie dana wielomianami, tzn. $$f(x_1, \ldots, x_n) = \langle p_1(x_1, \ldots, x_n), \ldots, p_n(x_1, \ldots, x_n)\rangle ,$$ gdzie $p_1(x_1, \ldots, x_n), \ldots, p_n(x_1, \ldots, x_n) \in K[x_1, \ldots, x_n]$. %TODO nie <> tylko cos innego.
	Wówczas jeśli $f$ jest iniekcją, to jest też surjekcją.
\end{tw}
\begin{proof}
	Rozważmy zdanie $\psi_{n,k}$ wyrażające następującą własność ciała $\K$:
	\textit{dla wszystkich $f \colon K^n \rightarrow K^n$ danych przez $p_1, p_2, \ldots, p_n$ jak wyżej, ale spełniające warunek $\text{deg } p_i \leq k$, jeśli $f$ jest iniekcją, to jest też surjekcją. }
	Zauważmy, że $\psi_{n,k}$ jest zdaniem postaci $\forall \exists$.
	Jeśli $\K$ jest skończone, to $\K \models \psi_{n,k}$ (w zbiorach skończonych iniekcje są też surjekcjami). %TODO można źle zrozumieć..
	Niech $\F^{\text{alg}}_{p}$ oznacza algebraiczne domknięcie ciała $p$-elementowego $\F^{\text{alg}}_p$.
	Zauważmy, że $$\F^{\text{alg}}_{p} = \bigcup_{m \in \N} \F_{p^m},$$ gdzie $\F_{p^m}$ to jedyne ciało o $p^m$ elementach.
	Zdania postaci $\forall \exists$ zachowują prawdziwość w sumach łańcuchów:
	jeśli $\psi$ jest takim zdaniem, $\A_0 \subset \A_1 \subset \ldots $ i dla każdego $m \in \N$ zachodzi $\A_m \models \psi$, to $\bigcup_{m \in \N} \A_m \models \psi$.
	Zatem $\F^{\text{alg}} \models \psi_{n,k}$. % indeks p?
	Z zupełności $\ACF_p$, gdzie $p$ jest pierwsza, mamy $\ACF_p \models \psi_{n,k}$.
	Ze zwartości i zupełności $\ACF_0$ również $\ACF_0 \models \psi_{n,k}$.

\end{proof}

\begin{df}
	Jeśli $\K \models \ACF$ oraz $I \subseteq K[x_1, x_2, \ldots, x_n ]$ jest ideałem, to wtedy zbiory postaci $$V(I) = \{(a_1, a_2, \ldots, a_n) \in K^n \colon p( a_1, a_2, \ldots, a_n ) = 0 \text{ dla wszystkich } p \in I\}$$ nazywamy \textit{zbiorem algebraicznym}.
\end{df}


\begin{obs}
	Ponieważ $K[x_1, x_2, \ldots, x_n ]$ jest noetherowski, to ideał $I$ jest generowany przez skończenie wiele wielomianów $p_1, p_2, \ldots, p_k$.
	Czyli zbiór $V(I)$ jest definiowalny jako:
	$$V(I) = \{ \bar{a} \in K^n \colon p_1(\bar{a}) = 0 \wedge p_2(\bar{a}) = 0 \wedge p_n(\bar{a})=0 \}.$$
	%CHECK
\end{obs}

\begin{df}
	 Zbiór konstruowalny to kombinacja borelowska zbiorów konstruowalnych.
\end{df}

\begin{tw}[Chevalley'a]
	 Jeśli $\K \models \ACF$, $V \subseteq K^n$ to zbiór konstruowalny, $f \colon K^n \to K^l$ przekształcenie dane wielomianami $q_1, q_2, \ldots, q_l$,
	 wówczas $f(V)$ jest konstruowalny.
	 W szczególności rzut zbioru konstruowalnego jest konstruowalny.
\end{tw}
\begin{proof}
	\[
		f(V) = \{ (y_1, y_2, \ldots, y_l ) \colon \exists x_1, x_2, \ldots, x_n \in V (q_1(\bar{x}) = y_1, \ldots q_l(\bar{x}) = y_l)  \}.
	\]
	Zatem $ f(V) $ jest definiowalny formułą bezkwantyfikatorową, a zatem konstruowalny.
\end{proof}

\begin{tw}[słaba wersja twierdzenia Hilberta o zerach]
	Niech $  \K \models \ACF $ i niech $  I \subseteq K[x_1, x_2, \ldots, x_n ] $ będzie ideałem własnym, tj. $  1 \in I $.
	Wówczas $  V(I) \neq \emptyset $.
\end{tw}
\begin{proof}
	 Niech ideał $I$ będzie generowany przez $  p_1, p_2, \ldots, p_k  $.
	 Niech $  M \supseteq I$ będzie ideałem maksymalnym.
	 Wtedy $L :=  \sfrac{K[x_1, x_2, \ldots, x_n ]}{M} $ jest ciałem.
	 Zauważmy, że $  L \models \exists x_1, x_2, \ldots, x_n (p_1(\bar{x}) = 0 \wedge \ldots \wedge p_k(\bar{x}) = 0) $.
	 Niech $ L^{\text{alg}} $ będzie algebraicznym domknięciem $ L $.
	Mamy $  L^{\text{alg}} \models \exists x_1, x_2, \ldots, x_n (p_1(\bar{x}) = 0 \wedge \ldots \wedge p_k(\bar{x}) = 0) $.
	Ale $  K \subseteq L^{\text{alg}} $, a $ K , L \models \ACF $, czyli $ K \prec L^{\text{alg}} $.
	Stąd $  K \models \exists x_1, x_2, \ldots, x_n (p_1(\bar{x}) = 0 \wedge \ldots \wedge p_k(\bar{x}) = 0) $
\end{proof}

% WYKŁAD 3, 14 III 2017

\begin{stw}
	 $ \R $ nie ma eliminacji kwantyfikatorów w języku $ \{+, \cdot, -, 0, 1\} $. %TODO "-" jest jednoargumentowy
\end{stw}
\begin{proof}
	Gdyby miało, to $ (\R, +, \cdot, -, 0, 1) $ byłoby silnie minimalne.
	Ale $\exists y (y^2 = x) $ definiuje nieskończony, konieskończony podzbiór $ \R $.
\end{proof}

\begin{df}
	 $ \RCF $ to teoria w języku $ \{ +, \cdot, -, 0, 1, \leq \} $ z następującą aksjomatyką:
	 \begin{enumerate}
		 \item $ \{+, \cdot, -, 0, 1\} $ spełnia aksjomaty ciała,
		 \item po dodaniu $\leq $ mamy ciało uporządkowane, tzn. spełnione jest:
			 \begin{itemize}
				 \item $ \leq $ jest liniowym porządkiem,
				 \item $ \forall x y (x, y \geq 0 \Rightarrow x\cdot y \geq 0) $,
				 \item $\forall x y z (x \leq y \Rightarrow x + z \leq y + z )  $,
			 \end{itemize}

		 \item $ \forall x (x \geq 0 \Rightarrow \exists y ( y^2 = x )) $,
		 \item dla wszystkich nieparzystych $ n \in \N$ zachodzi
			 \[
				 \forall y_0 y_1 \ldots y_n (y_n \neq 0 \Rightarrow \exists x (y_n \cdot x^n + \ldots + y_1 \cdot x + y_0 = 0))
		         \]
	 \end{enumerate}

\end{df}

Motywacją do badania $ \RCF $ jest m. in. 17. problem Hilberta, który brzmi następująco:
\textit{Czy każda funkcja wymierna $ f \in \R(x_1, x_2, \ldots, x_n ) $ taka, że $ f \geq 0 $ jest sumą kwadratów funkcji wymiernych?}

Naszym celem na teraz będzie pokazanie w kilku krokach, że $ \RCF $ ma eliminację kwantyfikatorów.

\begin{tw}
\label{tw:rcf}
	 Niech $ (R, \leq) $ będzie ciałem uporządkowanym.
	 Następujące warunki są równoważne:
	 \begin{enumerate}
		 \item $(R, \leq) \models \RCF $,
		 \item $R(i) := \sfrac{R[x]}{(x^2 + 1)} $ jest acf (ciałem algebraicznie domkniętym),
		 \item $ (R, \leq) $ nie ma żadnego właściwego rozszerzenia algebraicznego uporządkowanego zgodnie z $ \leq $.
	 \end{enumerate}

\end{tw}
\begin{proof}
	 TODO
\end{proof}

\begin{wn}
	Jeśli $ (R, \leq) \models \RCF $, to $ (R, \leq) $ ma własność Darboux dla wielomianów:
	jeśli $ p(a) \cdot p(b) < 0 $ oraz $ a <b $, to istnieje $c \in (a, b) $ takie, że $ p(c) = 0 $, gdzie $ p \in R[x] $.
\end{wn}
\begin{proof}
	 Bez utraty ogólności $ p $ jest nierozkładalny.
	 A zatem, na mocy punktu 2. z twierdzenia powyżej, $ p $ jest stopnia $ 1 $, lub $ 2 $ z $ \Delta < 0$.
	 \begin{itemize}
		 \item Jeśli stopnia $ 1 $, to jest ok.
		 \item Jeśli stopnia $2$ z $\Delta < 0 $, to $ p $ ma stały znak na $ R $.
	 \end{itemize}

\end{proof}

\begin{tw}
	 $ \RCF$ ma eliminację kwantyfikatorów.
\end{tw}
\begin{proof}
	Pokażemy, że zachodzą obydwa warunki dostateczne posiadania q.e. z twierdzenia \ref{tw:qe}.
	\begin{lem} % po co lemat?
		 Niech $ (K, \leq) \subseteq (R, \leq)$ będą rcf-ami,
	        $ \bar{a} \in K, \psi(\bar{x}, y)$ niech będzie formułą bezkwantyfikatorową,
		oraz niech $ b \in R$ będzie takie, że $(R, \leq) \models  \psi(\bar{a}, b)$.
		Bez utraty ogólności $ \psi(\bar{a}, y)$ ma postać:
		\[
			p(y) = 0 \wedge  \bigwedge_{ i = 1 }^n q_i > 0,
		\]
		gdzie $ p, q_i \in K[x], q_i \not \equiv 0$.
	\end{lem}
	Są dwie możliwości:
	\begin{enumerate}
		\item $ p \not \equiv 0$.
			Wtedy $ b$ jest algebraiczne nad $ K$.
			Z charakterystyki rcf-ów (twierdzenie \ref{tw:rcf}), $ b \in K$.
		\item $ p \equiv 0$.
			Wtedy $ \psi$ ma postać $ \bigwedge_{ i } q_i(y) > 0$.
			\\TODO OBRAZEK\\
			Zauważmy, że
			\begin{itemize}
				\item $ c_i < b$ i $ c_i \in K \cup \{-\infty\}$,
				\item $ d_i > b$ i $ d_i \in K \cup \{+\infty\}$.
			\end{itemize}
			Niech $ c := \max (c_1, \ldots, c_n)$ oraz $ d := \min (d_1, \ldots, d_n)$.
			Wtedy dla dowolnego elementu $ b' \in (c,d) \cup K $ zachodzi $ (K, \leq) \models \psi(\bar{a},\tilde{b})$.
	\end{enumerate}



\end{proof}


\end{document}
